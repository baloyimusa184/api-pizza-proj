<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <script src="//unpkg.com/alpinejs" defer></script>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM" crossorigin="anonymous">
  <script src="https://unpkg.com/axios@1.1.2/dist/axios.min.js"></script>
  <script src="pizza.js"> </script>
  <link rel="stylesheet" href="style.css">

</head>

<body class="background">

  <!--loop for iterating through numbers
  <div x-data="{numbers: [1,2,3,4,5]}">

    <template x-for="number in numbers">
  <span x-text="number"></span>
</template>
  </div>-->

  <!-- odered list -->
  <!--    <div x-data="{fruits: ['apples','bananas','oranges']}">     
<ol>
  <template x-for="fruit in fruits">
    <li x-text="fruit"></li>
  </template>
</ol>
</div>-->

  <!--<div x-data="{
  people: [{id:1, name: 'Musa'},
           {id:2, name: 'Bui'},
           {id:3, name: 'UJ'}],

  show: false
}">
  

<h1>Showing data at click of a button</h1>

<button @click="show=!show">Show</button>

<div x-show="show">
  <template x-for="person in people">
<div>
  
<span x-text="person.name"> </span> <span x-text="person.id"></span>

</div>
</template></div>


</div>-->
  <!--<div x-data="{
  people: [
    { id: 1, name: 'Musa' },
    { id: 2, name: 'Bui' },
    { id: 3, name: 'UJ' }
  ],
  activePerson: null
}">
  <h1>Showing data at click of a button</h1>
  
  <template x-for="person in people">
    <div>
      <button @click="activePerson = person.id">Show Info for {{ person.name }}</button>
      <div x-show="activePerson === person.id">
        <span x-text="person.name"> </span> <span x-text="person.id"></span>
      </div>
    </div>
  </template>
</div>-->

  <h3 style="text-align: center;">API Pizza Project</h3>

  <div x-data="pizzaCart" class="table,th,td">

    <div>
      Username: <input type="text" x-model="username">
      <button @click="login">Login</button>
      <button @click="logout" x-show="username && cartId">logout</button>
    </div>

    <br>
    <div x-show="cartId">
      Cart code: <span x-text="cartId"></span>
    </div>

    <h5 style="text-align: left;">Cart Information</h5>

    <br>
    <div x-show="cartTotal > 0">
      <div class="message" x-text="message">message here</div>

      <table>
        <tr>
          <th>flavor</th>
          <th>Size</th>
          <th>Price</th>
          <th>Qty</th>
          <th>Total</th>
        </tr>

        <template x-for="pizza in cartPizzas">
          <tr>
            <td x-text="pizza.flavour"></td>
            <td x-text="pizza.size"></td>
            <td x-text="pizza.price"></td>

            <td>
              <button @click="addPizzaToCart(pizza.id)">+</button>

              <span x-text="pizza.qty"></span>

              <button @click="removePizzaFromCart(pizza.id)">-</button>

            </td>

            <td x-text="pizza.total"></td>

          </tr>
        </template>

        <tr>
          <td colspan="4">Total</td>
          <td colspan="2"> R <span x-text="cartTotal"></span></td>
        </tr>
        <tr>
          <td colspan="3">Pay now</td>
          <td>
            <input x-model="paymentAmount" type="text">
          </td>
          <td>
            <button @click="payForCart">Pay</button>
          </td>
        </tr>
      </table>
    </div>
    
  <h3>Please Login Above To Get A Cart Code For Adding Pizzas To Cart</h3>

  <!-- <div x-show="change">
    change: R <span x-text="change"></span>
  </div>-->
 

    <div x-show="username && cartId">
      <template x-for="pizza in pizzas">
        <div class="container">
          <h5 x-text="pizza.type"></h5>
          Price: R <span x-text="pizza.price"></span>
          <br><br>
          <div>flavour: <span x-text="pizza.flavour"></span></div>
          <br><br>
          <div>
            <button @click="addPizzaToCart(pizza.id)">Add to Cart</button>
          </div>
          <div> <img src="pizza3.png" class="image"> </div>
        </div>

      </template>
    </div>







  </div>

</body>

</html>